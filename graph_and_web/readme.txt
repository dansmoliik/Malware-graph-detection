#simple graph maker and then show on the web

#first run make_graph.py with 2 arguments - <binet flow file> <examined IP address>
#this will make json file representing graph for web page and blablabla
#optional arguments
# - if threshold is less than default value, feature is not calculated
#-slt <value>    ... node auto looping count threshold
#                ... if slt == 0 all nodes are printed
#-et <value>     ... edge size threshold
#                ... et == 0 is the same as et == 1, with these args, all edges are printed
#-f1             ... use this to filter nodes that appeared only once
#-f <args>       ... use this to filter flows that used certain protocols or port
#                       in format [port1],[proto1]|[port2],[proto2]|... without brackets
#                ... you [port],[proto] will filter flow which have dst_port and protocol equal to port
#                   and proto, if you use only [port] or only [proto] it will filter all flows that have
#                   equal port or protocol
#-llen           ... use this to specify range of loop lengths you want to find,
#                    format <llen> or <llen1>-<llen2>
#                ... llen = number of nodes in loop without first(last) node counting twice
#                ... default value is 2
#                ... since llen = 1 would be autoloops, only llen >= 2 have effect
#-lt             ... loop count threshold
#                ... default value is 0
#--less          ... less output - only output total counts, not list with specific elements
#--noout         ... no console output
#--nooutf        ... no file output
#--gjson         ... save graph to json for web visualisation



#e.g. on windows
python main.py data/2015-04-22_capture-win3.binetflow 10.0.2.103 -f1 -f arp|53,udp -alt 20 -et 10

#run python server in directory with index.html
python -m SimpleHTTPServer 8888 &

#in browser
http://localhost:8888/index.html



#some arguments:
#2013-10-21_capture-1.binetflow 147.32.83.53
#2015-03-19_winnormal.binetflow 10.0.2.200
#2015-04-22_capture-win3.binetflow 10.0.2.103
#2016-03-26_win3-capture.binetflow 10.0.2.103
#test1.binetflow 10.0.2.105 # testing purpose only

#CTU-Malware-Capture-Botnet-43.binetflow 147.32.84.165 -f1 -alt 20 -et 30 -llen 2-20 -lt 10 --noout